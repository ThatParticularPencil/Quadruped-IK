{"mode":"Text","textContent":"#region VEXcode Generated Robot Configuration\nfrom vex import *\nimport urandom\n\n# Brain should be defined by default\nbrain=Brain()\n\n# Robot configuration code\ncontroller_1 = Controller(PRIMARY)\nPelvis = Motor(Ports.PORT1, GearSetting.RATIO_36_1, False)\nHip = Motor(Ports.PORT2, GearSetting.RATIO_18_1, False)\nKnee = Motor(Ports.PORT3, GearSetting.RATIO_18_1, False)\n\n\n# wait for rotation sensor to fully initialize\nwait(30, MSEC)\n#endregion VEXcode Generated Robot Configuration\n\n# ------------------------------------------\n# \n# \tProject:      Crawler 1 leg test\n#\tAuthor:       Chinonso OGwudu\n#\tCreated:      03|16|2024\n#\tDescription:  crawler test with just one leg assembled\n# \n# ------------------------------------------\n\n# Library imports\nfrom vex import *\nfrom math import sin, cos, asin, acos, atan, sqrt, degrees, radians, pi\n\n\n# variables\nRestPos = (0,0,0)     #(x,y,z)\nOffSets =    #(Hip, Trechanter, Knee)\n\n# segment lengths in inches\nCoxa = 5.197\nFemur = 7.974\nTibia = 12.226\n\n\n# essential functions\n\n#Radians to Degrees\ndef RTD(angle):\n    deg = angle * (180/pi)\n    while deg >= 360:\n        deg -= 360\n    return deg\n\ndef Check_MotorAngles(Pelvis,Hip,Knee)\n\ndef IK(pos):\n    x,y,z = pos[0],pos[1],pos[2]\n    # D is the hypotenuse of xz plane\n    # D is the hypotenuse of the xy plane\n    D = sqrt(x**2 + z**2)\n    if D==0:\n        Pelvis = 0 \n    else:\n        Pelvis = RTD(asin(z / D))\n\n    H = sqrt(((D - Coxa)**2) + y**2)\n    Hip0 = RTD(asin(y/H))\n    Hip1 = RTD(acos((Tibia**2 - (Femur**2 + H**2 )) / (-2*Femur*H)))\n    Hip = Hip0+Hip1\n\n    Knee = 180 - RTD(acos((H**2 - (Tibia**2 + Femur**2 )) / (-2*Tibia*Femur)))\n    \n    return Pelvis, Hip, Knee\n\n\n\n","textLanguage":"python","rconfig":[{"port":[],"name":"controller_1","customName":false,"deviceType":"Controller","deviceClass":"controller","setting":{"left":"","leftDir":"false","right":"","rightDir":"false","upDown":"","upDownDir":"false","xB":"","xBDir":"false","drive":"none","id":"primary"},"triportSourcePort":22},{"port":[1],"name":"Pelvis","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio36_1"},"triportSourcePort":22},{"port":[2],"name":"Hip","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1","id":"partner"},"triportSourcePort":22},{"port":[3],"name":"Knee","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1","id":"partner"},"triportSourcePort":22}],"slot":0,"platform":"V5","sdkVersion":"20220726.10.00.00","appVersion":"2.4.0","minVersion":"2.4.0","fileFormat":"1.2.0","icon":"","targetBrainGen":"First","target":"Physical"}